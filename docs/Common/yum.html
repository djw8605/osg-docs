<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>OSG Documentation</title>

        <link rel="stylesheet" href="https://djw8605.github.io/osg-docs/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://djw8605.github.io/osg-docs/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://djw8605.github.io/osg-docs/css/highlight.dark.css">
        <link rel="stylesheet" href="https://djw8605.github.io/osg-docs/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="https://djw8605.github.io/osg-docs/">
                OSG Documentation
                <small class="hidden-xs hidden-sm">
                    All you want to know about the OSG
                </small>
            </a>

                            <a href="https://github.com/djw8605/osg-docs">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
                </a>
            
        </header>

        <main class="container-fluid">
            <div class="row">

                
                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="">
                                    <a href="https://djw8605.github.io/osg-docs/docs/Computing_Element/htcondor_ce.html">
                                        HTCondor-CE
                                    </a>
                                </li>
                                                    </ul>

                    </nav>

                
                <section id="content" class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                    <h1><strong>YUM Repositories</strong></h1>
<h2 id="about-this-document">About This Document</h2>
<p>This document introduces YUM repositories and how OSG uses them.</p>
<h2 id="repositories">Repositories</h2>
<p>OSG hosts four public-facing repositories at
<a href="http://repo.grid.iu.edu/">repo.grid.iu.edu</a>:</p>
<ul>
<li><strong>release</strong>: This repository contains software that we are willing
to support and can be used by the general community.</li>
<li><strong>contrib</strong>: RPMs contributed from outside the OSG.</li>
<li><strong>testing</strong>: This repository contains software ready for testing. If
you install packages from here, they may be buggy, but we will
provide limited assistance in providing a migration path to a fixed
version.</li>
<li><strong>development</strong>: This repository is the bleeding edge. Installing
from this repository may cause the host to stop functioning, and we
will not assist in undoing any damage.</li>
</ul>
<p>OSG’s RPM packages rely also on external packages provided by supported
OSes and EPEL. You must have the following repositories available and
enabled:</p>
<ul>
<li>your OS repositories (SL 5/6/7, CentOS 5/6/7, or RHEL 5/6/7
repositories)</li>
<li>EPEL repositories</li>
<li>the OSG repositories you’d like to use</li>
</ul>
<p>If one of these repositories is missing you may have missing
dependencies.</p>
<p><span class="twiki-macro WARNING"></span> We did not test other
repositories. If you use packages from other repositories, like
<code>jpackage</code>, <code>dag</code>, or <code>rpmforge</code>, you may encounter problems.</p>
<h2 id="enabling-repositories">Enabling Repositories</h2>
<p>In <a href="Documentation/Release3.InstallBestPractices">our advice on using
yum</a> you will learn many
tricks and tips on using yum.</p>
<p>To use the packages in a repository without adding special options to
the yum command the repository must be enabled.</p>
<ul>
<li>Install the Yum Repositories required by OSG</li>
</ul>
<p>The OSG RPMs currently support {{ supportedOs }}</p>
<p>OSG RPMs are distributed via the OSG yum repositories. Some packages
depend on packages distributed via the
<a href="http://fedoraproject.org/wiki/EPEL">EPEL</a> repositories. So both
repositories must be enabled.</p>
<h3 id="install-epel">Install EPEL</h3>
<ul>
<li>
<p>Install the EPEL repository, if not already present. <strong>Note:</strong> This
enables EPEL by default. Choose the right version to match your OS
version.</p>
<pre><code># EPEL 5 (For RHEL 5, CentOS 5, and SL 5)
$ curl -O https://dl.fedoraproject.org/pub/epel/epel-release-latest-5.noarch.rpm
$ rpm -Uvh epel-release-latest-5.noarch.rpm
# EPEL 6 (For RHEL 6, CentOS 6, and SL 6)
$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm
# EPEL 7 (For RHEL 7, CentOS 7, and SL 7)
$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</code></pre>
<p><strong>WARNING</strong>: if you have your own mirror or configuration of the EPEL
repository, you <strong>MUST</strong> verify that the OSG repository has a better yum
priority than EPEL (<a href="Common/InstallBestPractices#YumPriorities">details</a>).
Otherwise, you will have strange dependency resolution (<em>depsolving</em>) issues.</p>
</li>
</ul>
<h3 id="install-the-yum-priorities-package">Install the Yum priorities package</h3>
<p>For packages that exist in both OSG and EPEL repositories, it is
important to prefer the OSG ones or else OSG software installs may fail.
Installing the Yum priorities package enables the repository priority
system to work.</p>
<ol>
<li>
<p>\&lt;p>Choose the correct package name based on your operating
system’s major version:\&lt;/p></p>
<ul>
<li>For EL 5 systems, use <code>yum-priorities</code></li>
<li>For EL 6 and EL 7 systems, use <code>yum-plugin-priorities</code></li>
</ul>
</li>
<li>\&lt;p>Install the Yum priorities package:\&lt;/p>\ \&lt;pre
class=“rootscreen”>&lt;span
class=&quot;twiki-macro UCL_PROMPT_ROOT&quot;&gt;</span> yum install
<em>PACKAGE</em>\&lt;/pre>\ \&lt;p>Replace <em><code>PACKAGE</code></em> with the package name
from the previous step.\&lt;/p></li>
<li>\&lt;p>Ensure that <code>/etc/yum.conf</code> has the following line in the
<code>[main]</code> section (particularly when using ROCKS), thereby enabling
Yum plugins, including the priorities one:\&lt;/p>\ \&lt;pre
class=“file”>plugins=1\&lt;/pre> <strong>NOTE</strong>: If you do not have a
required key you can force the installation using
<code>--nogpgcheck=; e.g., =yum install --nogpgcheck yum-priorities</code>.</li>
</ol>
<h3 id="install-osg-repositories">Install OSG Repositories</h3>
<p>\&lt;ol> \&lt;li> \&lt;p>If you are upgrading from OSG 3.1 (or 3.2) to OSG 3.2
(or 3.3), remove the old OSG repository definition files and clean the
Yum cache:\&lt;/p>\ \<pre class=“rootscreen”\>&lt;span
class=&quot;twiki-macro UCL_PROMPT_ROOT&quot;&gt;</span> yum clean all &lt;span
class=&quot;twiki-macro UCL_PROMPT_ROOT&quot;&gt;</span> rpm -e osg-release\&lt;/pre>\
\&lt;p>This step ensures that local changes to <code>*.repo</code> files will not
block the installation of the new OSG repositories. After this step,
<code>*.repo</code> files that have been changed will exist in <code>/etc/yum.repos.d/</code>
with the <code>*.rpmsave</code> extension. After installing the new OSG
repositories (the next step) you may want to apply any changes made in
the <code>*.rpmsave</code> files to the new <code>*.repo</code> files.\&lt;/p> \&lt;/li> \&lt;li>
\&lt;p>Install the OSG repositories using one of the following methods
depending on your EL version:\&lt;/p>\ \&lt;ol> \&lt;li> \&lt;p>For EL versions
greater than EL5, install the files directly from
<code>repo.grid.iu</code>:\&lt;/p>\ \<pre class=“rootscreen”\>&lt;span
class=&quot;twiki-macro UCL_PROMPT_ROOT&quot;&gt;</span> rpm -Uvh
%RED%URL%ENDCOLOR%\&lt;/pre>\ \&lt;p>Where <code>%RED%URL%ENDCOLOR%</code> is one of
the following:\&lt;/p>\ &lt;span class=&quot;twiki-macro TABLE&quot;
SORT=&quot;off&quot;&gt;</span></p>
<p>Series                      EL6 URL (for RHEL 6, CentOS 6, or SL 6)                             EL7 URL (for RHEL 7, CentOS 7, or SL 7)</p>
<hr />
<p><strong>OSG 3.2</strong>    <code>https://repo.grid.iu.edu/osg/3.2/osg-3.2-el6-release-latest.rpm</code>                                  N/A
<strong>OSG 3.3</strong>    <code>https://repo.grid.iu.edu/osg/3.3/osg-3.3-el6-release-latest.rpm</code>   <code>https://repo.grid.iu.edu/osg/3.3/osg-3.3-el7-release-latest.rpm</code></p>
<p>\&lt;/li> \&lt;li> \&lt;p>For EL5, download the repo file and install it using
the following:\&lt;/p> \<pre class=“rootscreen”\>&lt;span
class=&quot;twiki-macro UCL_PROMPT_ROOT&quot;&gt;</span> curl -O
<a href="https://repo.grid.iu.edu/osg/3.2/osg-3.2-el5-release-latest.rpm">https://repo.grid.iu.edu/osg/3.2/osg-3.2-el5-release-latest.rpm</a> &lt;span
class=&quot;twiki-macro UCL_PROMPT_ROOT&quot;&gt;</span> rpm -Uvh
osg-3.2-el5-release-latest.rpm\&lt;/pre> \&lt;/li> \&lt;/ol> \&lt;/li> \&lt;/ol></p>
<p>&lt;span class=&quot;twiki-macro IF&quot;
then=&quot;For more details, please see our [[Documentation.Release3.YumRepositories][yum repository documentation]].&quot;
else=&quot;&quot;&quot;&quot;&gt;\$ TOPIC != 'YumRepositories'</span></p>
<p><span class="twiki-macro ENDSECTION">OSGRepoBrief</span></p>
<h1 id="priorities">Priorities</h1>
<p><span class="twiki-macro NOTE"></span> Make sure you installed the Yum
priorities plugin, as described above. Not doing so is a common mistake
that causes failed installations.</p>
<p>The only OSG repository enabled by default is the release one. If you
want to enable another one, such as <code>osg-testing</code>, then edit its file
(e.g. <code>/etc/yum.repos.d/osg-testing.repo</code>) and change the enabled option
from 0 to 1:</p>
<p>``` {.file}
[osg-testing]
name=OSG Software for Enterprise Linux 5 - Testing - $basearch</p>
<h1 id="baseurl">baseurl=<a href="http://repo.grid.iu.edu/osg/3.2/el5/testing/$basearch">http://repo.grid.iu.edu/osg/3.2/el5/testing/$basearch</a></h1>
<p>mirrorlist=<a href="http://repo.grid.iu.edu/mirror/osg/3.2/el5/testing/$basearch">http://repo.grid.iu.edu/mirror/osg/3.2/el5/testing/$basearch</a>
failovermethod=priority
priority=98
enabled=%RED%1%ENDCOLOR%
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OSG</p>
<pre><code>

&lt;span class="twiki-macro WARNING"&gt;&lt;/span&gt; if you have your own mirror or
configuration of the EPEL repository, you **MUST** verify that the OSG
repository has a better yum priority than EPEL. Otherwise, you will have
strange dependency resolution issues.

References
==========

-   [Basic use of Yum](YumRpmBasics)
-   [Best practices in using Yum](InstallBestPractices)</code></pre>
                </section>

            </div>
        </main>

        <footer>
            <div class="container-fluid">
                <p class="text-muted">
                    website generated with <a href="http://couscous.io" title="Markdown website generator">Couscous</a>
                </p>
            </div>
        </footer>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="//yastatic.net/highlightjs/8.2/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
